<!DOCTYPE html>
<html>
<head>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  	<script type="text/javascript">
  	function checkProfile() {
  		console.log('test');
  		var temp = 0;	
		var fname = document.getElementById("fname").value;
		var lname = document.getElementById("lname").value;
		var email = document.getElementById("email").value;
		var aff = document.getElementById("aff").value;
		var dob = document.getElementById("dob").value;
		var ints = document.getElementById("ints").value;

		if(!fname || !lname || !email || !aff || !dob || !ints) {
			alert("Empty");
		} else if (email.indexOf('@') < 0) {
			alert("Email invalid");
		} else {
		$.ajax({
			type: "POST",
		   	url: '/createprofile',
		   	async: false,
		   	data: {	fname: document.getElementById("fname").value,
  					lname: document.getElementById("lname").value,
  					email: document.getElementById("email").value,
  					aff: document.getElementById("aff").value,
  					dob: document.getElementById("dob").value,	
  					ints: document.getElementById("ints").value,	}, 
		   	success: function(data) { 
				window.location.href="/home";
		   	}	   
		});
		}
		console.log('temp: ' + temp);
  	}
  	</script>
  	
	<title>Profile</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<style type="text/css">
	body {
	  width: 100wh;
	  height: 90vh;
	  color: #fff;
	  background-size: 110% 115%;
	  background-image: linear-gradient(to left bottom, #4c87fc, #5076fd, #5e62fb, #7148f4, #861de9);
	}

    .btn-custom {
      background-color: Transparent;
      border-color: #FFFFFF;
      color:#FEFEFE;
      font-weight: 600;
      border-radius: 20px;
      width: 400px;
    }
    .btn-add {
      background-color: Transparent;
      border-color: #FFFFFF;
      color:#FEFEFE;
      font-weight: 600;
      border-radius: 20px;
      width: 50px;
    }
    .error {
      color: #FF0000;
      font-style: italic;
      padding-top: 5px;
    }
    a {
	  color: #ff9966;
    }
    a:hover {
      color: #ff9966;	 
    }
	.login-box {
      padding-top: 120px;     
      max-width: 400px;
      margin: 0 auto;
    }
	.login-box .form-control { 
      padding: 10px;
      font-size: 16px;
      margin-bottom: 15px;
      border-radius: 20px;
      padding-right: 30px;
    }
	.hs {
      color: #FEFEFE;
      padding-top:50px;
      text-align: center;
      font-weight: 600;
      padding-bottom:20px;
    }
    
	</style>
</head>


<body>
	<div class="login-box">
		<h1 class="hs"> PROFILE </h1>
			<input type="text" id="fname" placeholder="First Name" class="form-control">
			<input type="text" id="lname" placeholder="Last Name" class="form-control">
			<input type="email" id="email" placeholder="Email" class="form-control">
			<input type="text" id="aff" placeholder="Affiliation" class="form-control">
			<input type="date" id="dob" placeholder="Birthday" class="form-control">	
			<input type="text" id="ints" placeholder="Interests (separate them with commas)" class="form-control">
			<button onClick = "checkProfile()" class="btn btn-md btn-block btn-custom" type="submit" >UPDATE</button>		   
	</div>

</body>
</html>
